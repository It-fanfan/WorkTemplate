<!DOCTYPE html>
<html>
	<head>
			<meta charset="UTF-8">
			<title>总收入趋势</title>
			<meta name="renderer" content="webkit">
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
			<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
			<link rel="stylesheet" href="../layuiadmin/layui/css/layui.css" media="all">
			<link rel="stylesheet" href="../layuiadmin/style/admin.css" media="all">
			<script src="../layuiadmin/layui/layui.js"></script>
			<script src="../layuiadmin/modules/operation.js"></script>
			<script></script>
		</head>
		<body>
			<div class="layui-fluid">
				<div class="layui-row layui-col-space15">
					<div class="layui-col-md12">
						<div class="layui-card">
							<!-- 搜索表单 -->
							<div class="layui-form layui-card-header layuiadmin-card-header-auto">
								<form class="layui-form-item" id="search-form">
									<div class="layui-inline">
										<label class="layui-form-label">时间查询</label>
										<div class="layui-input-inline">
											<input type="text" class="layui-input" id="times" name="times" placeholder=" - ">
										</div>
									</div>
									<input type="hidden" name="search-data" value="time" />
									<div class="layui-inline">
										<button class="layui-btn layuiadmin-btn-useradmin" lay-submit="" lay-filter="front-search">
											<i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
										</button>
									</div>
								</form>
							</div>
	
							<!-- 数据表格 -->
							<div class="layui-card-body">
								<table class="layui-hide" lay-filter="table-page" id="table-page"></table>
							</div>
	
						</div>
					</div>
				</div>
			</div>
			</div>
	
	<script type="text/html" id="toolbar">
	</script>
			<script>
			var operatorurl = '../admin/wechat/select';
			layui.use(['table', 'laydate', 'form', 'layer'], function () {
	        var table = layui.table,
	            form = layui.form,
	            layer = layui.layer,
	            laydate = layui.laydate;

	        laydate.render({
					elem: '#times',
					range: true
				});

	        table.render({
	            elem: '#table-page',
				autoSort:false,
	            url: operatorurl + '?datagrid=data',
	            cols: [[
	                {field: 'insertTime', width: 120, title: '日期', sort: true},
	                {field: 'virtualPay', width: 120, title: '付费收入', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.virtualPay)}},
	                {field: 'payTotal', width: 120, title: '累计付费收入', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.payTotal);}},
					{field: 'videoIncome', width: 120, title: '视频广告收入', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.videoIncome);}},
					{field: 'videoTotal', width: 120, title: '累计视频收入', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.videoTotal);}},
					{field: 'videoClick', width: 120, title: '点击', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.videoClick);}},
					{field: 'videoExposure', width: 120, title: '曝光', sort: true,templet:(d)=>{
							return UIConfig.formatNullData(d.videoExposure);}},
	                {field: 'clickRate', width: 120, title: '点击率',templet:(d)=>{
						return UIConfig.divideByPercent(d.videoClick,d.videoExposure);
					}}	                
	            ]],
	            page: true,
	            toolbar: '#toolbar',
	            defaultToolbar: ['filter', 'exports']
	        });
	
	        laydate.render({
	            elem: '#insertTime',
				format: 'yyyy/MM/dd'
	
	        });
	    })
	
	</script>	
	</body>
</html>
