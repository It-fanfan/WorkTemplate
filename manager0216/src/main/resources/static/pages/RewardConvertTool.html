<!DOCTYPE html>
<html lang="chs">
<head>
    <meta charset="UTF-8">
    <title>奖励转换工具</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="../layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../layuiadmin/style/admin.css" media="all">
    <script src="../layuiadmin/layui/layui.js"></script>
    <script src="../layuiadmin/modules/operation.js"></script>
    <style type="text/css">
        .layui-form .layui-table-cell {
            height: auto;
            overflow: visible;
            text-overflow: inherit;
            white-space: normal;
        }
    </style>
</head>
<body>
<div style="padding-top: 10px;">
	&nbsp;&nbsp;<label for="type" >  类型：</label>
    <input name="type" id="type" required lay-verify="required" placeholder="请输入类型" autocomplete="off" class="layui-input"/><br>
	&nbsp;&nbsp;<label for="id" >	ID ：</label>
    <input type="text" name="id" id="id" required lay-verify="required" placeholder="请输入ID" autocomplete="off"
           class="layui-input"><br><br>
	&nbsp;&nbsp;<label for="total" >  数量：</label>
    <input  name="total" id="total"type="text" required lay-verify="required" placeholder="请输入数量" autocomplete="off"
			class="layui-input"><br><br>

    <input id="changebtn" type="button" value="点击转换" onclick="changeContent()" class="layui-btn layui-btn-normal"/>
    <input  id="clearbtn" type="button" value="清空内容" onclick="clearContent()" class="layui-btn layui-btn-normal"/>
    <button id="transmit" type="button"  onclick="transmitContent()" class="layui-btn layui-btn-normal">传送JSON数据</button>
    <textarea id="result"  placeholder="转换后的JSON内容" class="layui-textarea"></textarea>
</div>
<script>
    function changeContent() {
        let $ = layui.jquery,
            layer = layui.layer;
        let types = document.getElementById("type").value;
        let ids = document.getElementById("id").value;
        let numbers = document.getElementById("total").value;
        let result = [];
        result.push({
            type: types,
            id: ids,
            total: numbers,
        })
        let b = JSON.stringify(result);
        $('textarea').val(b);

    }
</script>
<script>
    function clearContent() {
        document.getElementById("result").value = "";
        document.getElementById("type").value = "";
        document.getElementById("id").value = "";
        document.getElementById("total").value = "";
    }
    function transmitContent() {
        let $ = layui.jquery,
            layer = layui.layer;
        let index = parent.layer.getFrameIndex(window.name); //获取窗口索引
         let txt = $("#result").val();
        window.parent.document.getElementById("reward").value = txt;
        parent.layer.close(index);
    }

</script>


</body>
</html>
